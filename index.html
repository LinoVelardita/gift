<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Be My Valentine</title>
  <link rel="stylesheet" href="css/valentine.css" />
  <style>
    .page { display: none; }
    .page.active { display: block; }
    .button { cursor: pointer; padding: 10px 20px; margin: 5px; }
  </style>
</head>
<body>

  <!-- Musica -->
  <audio id="bg-music" loop preload="auto">
    <source src="ContentaTu.mp3" type="audio/mpeg" />
  </audio>

<!-- Sezione Index / domanda iniziale -->
  <div id="page-index" class="page active">
    <div id="valentineQuestion"><b>Vuoi essere la mia fidanzatina?</b></div>

    <button class="answerButton" id="yesBtn">Cetto üíñ‚Äã</button>
    <button class="answerButton" id="noBtn">No ‚Äãü§°‚Äã</button>
    <br />

    <img src="hammy-brian-hairliners.gif" height="498px" width="150px" alt="cat asking question" class="responsive" />
  </div>

  <!-- Thank You -->
  <div id="page-thankyou" class="page">
    <div id="thankyou" style="font-size: 3em; color:#ff9494; text-align:center;">
        <b>Tiiiiiii</b>
    </div>
    <img height="300px" id="rizz" src="0009.gif" alt="rizzler god" class="responsive" />
    <h1>Spetta! Continua qui :3</h1>
    <button class="answerButton" id="toDateBtn">--- ></button>
  </div>

  <!-- Date -->
  <div id="page-date" class="page">
    <h1 title="choose a date">Quando sei libera, paperedda?</h1>
    <form class="form-group">
      <label>Scegli una data, bedda ca s√¨:</label>
      <div>
        <input type="date" id="selectedDate" />
        <button class="answerButton" type="button" id="toFoodBtn">Ok</button>
      </div>
    </form>
  </div>

  <!-- Food -->
  <div id="page-food" class="page">
    <div id="foodquestion"><b>Cosa vorresti mangiare?</b></div>
    <div class="food-selection">
      <div class="food-item">
        <img src="food/pizza.jpg" alt="Pizza" />
        <label><input type="checkbox" name="food" value="Pizza" /> pizza</label>
      </div>
      <div class="food-item">
        <img src="food/argentino.PNG" alt="Argentino" />
        <label><input type="checkbox" name="food" value="Argentino" /> argentino </label>
      </div>
      <div class="food-item">
        <img src="food/almadina.jpeg" alt="almadina" />
        <label><input type="checkbox" name="food" value="almadina" /> almadina</label>
      </div>
      <div class="food-item">
        <img src="food/branzo.jpg" alt="branzo" />
        <label><input type="checkbox" name="food" value="almadina" /> branzo</label>
      </div>
      <div class="food-item">
        <img src="food/georgiano.jpg" alt="georgiano" />
        <label><input type="checkbox" name="food" value="georgiano" /> georgiano</label>
      </div>
      <div class="food-item">
        <img src="food/ghiotteria.jpg" alt="ghiotteria" />
        <label><input type="checkbox" name="food" value="ghiotteria" /> ghiotteria</label>
      </div>
      <div class="food-item">
        <img src="food/indiano.jpg" alt="indiano" />
        <label><input type="checkbox" name="food" value="indiano" /> indiano</label>
      </div>
      <div class="food-item">
        <img src="food/ramen.jpg" alt="ramen" />
        <label><input type="checkbox" name="food" value="ramen" /> ramen</label>
      </div>
      <div class="food-item">
        <img src="food/stelio.jpg" alt="stelio" />
        <label><input type="checkbox" name="food" value="stelio" /> Stelio</label>
      </div>
      <div class="food-item">
        <img src="food/sushi.PNG" alt="sushi" />
        <label><input type="checkbox" name="food" value="sushi" /> sushi</label>
      </div>
    </div>
    <button class="answerButton" id="toDessertBtn">Continua qui</button>
  </div>

  <!-- Dessert -->
  <div id="page-dessert" class="page">
    <div id="dessertquestion">E il dolcino non ce lo metti?</div>
    <div class="dessert-selection">
      <div class="dessert-item">
        <img src="food/rufus.jpg" alt="rufus" />
        <label><input type="checkbox" name="dessert" value="rufus" /> Rufus</label>
      </div>
      <div class="dessert-item">
        <img src="food/misu.jpeg" alt="misu" />
        <label><input type="checkbox" name="dessert" value="misu" /> Mis√π</label>
      </div>
            <div class="dessert-item">
        <img src="food/mays.jpg" alt="May's" />
        <label><input type="checkbox" name="dessert" value="May's" /> May's</label>
      </div>
    </div>
    <button class="answerButton" id="toActivitiesBtn">Continua UwU</button>
  </div>

  <!-- Activities -->
  <div id="page-activities" class="page">
    <div id="activityquestion"><b>E dopo che famo?</b></div>
    <div class="activities-selection">
      <div class="activity-item">
        <img src="activities/gambling.jpg" alt="gambling" />
        <label><input type="checkbox" name="activities" value="gambling" /> andiamo a gamblare</label>
      </div>
      <div class="activity-item">
        <img src="activities/cinema.PNG" alt="cinema" />
        <label><input type="checkbox" name="activities" value="cinema" /> cinema üëÄ‚Äã</label>
      </div>
      <div class="activity-item">
        <img src="activities/bosetti-yara.gif" alt="bossetti" />
        <label><input type="checkbox" name="activities" value="bossetti" /> Andiamo a liberare Bossetti‚Äã</label>
      </div>
        <div class="activity-item">
        <img src="activities/coccolelle.jpg" alt="coccole" />
        <label><input type="checkbox" name="activities" value="coccole" /> coccolelle‚Äã</label>
      </div>
        <div class="activity-item">
        <img src="activities/ortobotanico.PNG" alt="orto" />
        <label><input type="checkbox" name="activities" value="orto" /> OrToBotANico..‚Äã</label>
      </div>
        <div class="activity-item">
        <img src="activities/piagge.jpg" alt="piagge" />
        <label><input type="checkbox" name="activities" value="piagge" /> Passeggiata alle piagge‚Äã</label>
      </div>
        <div class="activity-item">
        <img src="activities/snu snu.jpg" alt="snu snu" />
        <label><input type="checkbox" name="activities" value="snu snu" /> snu snu</label>
      </div>
        <div class="activity-item">
        <img src="activities/weed.jpeg" alt="weed" />
        <label><input type="checkbox" name="activities" value="weed" /> smokiaml‚Äã</label>
      </div>
    </div>
    <button class="answerButton" id="toLastPageBtn">Un'ultima cosa...</button>
  </div>

<!-- Last Page / Letter -->
    <div id="page-lastpage" class="page">
    <div class="content" style="text-align:center; padding: 20px;">
        <h1 id="title" style="color:#ff9494;">Grazie per essere la mia fidanzatina üíñ</h1>
        <p id="typewriter-text" style="font-size:1.5em; color:#ff9494; white-space:pre-wrap; min-height: 200px;"></p>
    </div>
    </div>

<script>
  // Testo per il typewriter
  const lastPageText = `Auguri di buon compleanno papera ü¶Ü‚ù§Ô∏è
E buon San Valentayno üåπ
voglio dimostrarti che anche senza un soldo...
anche con la distanza...
anche con tutte le barriere che abbiamo davanti
la mia testa e il mio cuoricino sono tutti per te :3

spero che questa sorpresa ti abbia strappato un sorriso
...
...
...
Con tutto l'amore che posso darti,
il tuo Lino`;

  function startTypewriter() {
    const container = document.getElementById("typewriter-text");
    container.textContent = ""; 
    let index = 0;

    function type() {
      if (index < lastPageText.length) {
        container.textContent += lastPageText.charAt(index);
        index++;
        setTimeout(type, 50); 
      }
    }

    type();
  }

  // Musica
  const audio = document.getElementById("bg-music");
  const START_TIME = 26;

  window.addEventListener("load", () => {
    audio.currentTime = START_TIME;
    audio.volume = 0.8;
    audio.play().catch(() => {
      document.body.addEventListener("click", () => audio.play(), {once:true});
    });
  });

  // Funzione per cambiare pagina
  function showPage(pageId) {
    document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
    document.getElementById(pageId).classList.add("active");

    if(pageId === "page-lastpage") {
      startTypewriter(); 
    }

    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // Navigazione tra le sezioni
  document.getElementById("yesBtn").addEventListener("click", () => showPage("page-thankyou"));
  document.getElementById("noBtn").addEventListener("click", () => {
    const yesButton = document.getElementById("yesBtn");
    let currentFontSize = parseInt(window.getComputedStyle(yesButton).fontSize);
    yesButton.style.fontSize = (currentFontSize + 10) + "px";
  });

  document.getElementById("toDateBtn").addEventListener("click", () => showPage("page-date"));
  document.getElementById("toFoodBtn").addEventListener("click", () => {
    const selectedDate = document.getElementById("selectedDate").value;
    if (!selectedDate) {
      alert("Devi scegliere una data per continuare >:( ");
      return;
    }

    const date = new Date(selectedDate);
    const minDate = new Date("2026-02-21");
    const maxDate = new Date("2026-02-26");

    if (date < minDate || date > maxDate) {
      alert("Av√† fai la seria, scegli una data fattibile √≤.√≤");
      return;
    }

    showPage("page-food");
  });

  document.getElementById("toDessertBtn").addEventListener("click", () => showPage("page-dessert"));
  document.getElementById("toActivitiesBtn").addEventListener("click", () => showPage("page-activities"));

  // Passaggio a lastpage senza server
  document.getElementById("toLastPageBtn").addEventListener("click", () => {
    const selectedDate = document.getElementById("selectedDate").value;
    const foodSelections = Array.from(document.querySelectorAll('#page-food input[name="food"]:checked')).map(i => i.value);
    const dessertSelections = Array.from(document.querySelectorAll('#page-dessert input[name="dessert"]:checked')).map(i => i.value);
    const activitySelections = Array.from(document.querySelectorAll('#page-activities input[name="activities"]:checked')).map(i => i.value);

    // Solo console log, niente server
    console.log("Data scelta:", selectedDate);
    console.log("Cibo:", foodSelections);
    console.log("Dolci:", dessertSelections);
    console.log("Attivit√†:", activitySelections);

    showPage("page-lastpage");
  });
</script>
